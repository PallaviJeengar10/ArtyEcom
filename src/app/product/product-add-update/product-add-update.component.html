<app-form-card-container [formHeading]="formHeading">
  <form (ngSubmit)="onSubmit()" #productForm="ngForm">
    <div class="form-group">
      <label for="name">Product Name</label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="product.productName"
        required
        minlength="3"
        class="form-control"
        #productName="ngModel"
      />
      <small id="nameHelp" class="form-text text-muted"
        >Product name should be at least 3 characters long.</small
      >
      <br />
      <span
        class="help-block text-danger"
        *ngIf="productName.invalid && productName.touched"
      >
        {{ formErrorService.getErrorMessage(productName) }}
      </span>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        [(ngModel)]="product.productDescription"
        required
        minlength="10"
        class="form-control"
        #productDesc="ngModel"
      ></textarea>
      <small id="descriptionHelp" class="form-text text-muted"
        >Description should be at least 10 characters long.</small
      >
      <br />
      <span
        class="help-block text-danger"
        *ngIf="productDesc.invalid && productDesc.touched"
      >
        {{ formErrorService.getErrorMessage(productDesc) }}
      </span>
    </div>
    <div class="form-group">
      <label for="price">Price</label>
      <input
        type="number"
        id="price"
        name="price"
        [(ngModel)]="product.price"
        required
        min="0"
        class="form-control"
        #productPrice="ngModel"
      />
      <small id="priceHelp" class="form-text text-muted"
        >Price should be at least 1.</small
      >
      <br />
      <span
        class="help-block text-danger"
        *ngIf="productPrice.invalid && productPrice.touched"
      >
        {{ formErrorService.getErrorMessage(productPrice) }}
      </span>
    </div>
    <div class="form-group">
      <label for="quantity">Quantity</label>
      <input
        type="number"
        id="quantity"
        name="quantity"
        [(ngModel)]="product.quantity"
        required
        min="1"
        class="form-control"
        #productQuantity="ngModel"
      />
      <small id="quantityHelp" class="form-text text-muted"
        >Quantity should be at least 1.</small
      >
      <br />
      <span
        class="help-block text-danger"
        *ngIf="productQuantity.invalid && productQuantity.touched"
      >
        {{ formErrorService.getErrorMessage(productQuantity) }}
      </span>
    </div>
    <div class="form-group">
      <label for="subCategoryId">SubCategory</label>
      <select
        id="subCategoryId"
        name="subCategoryId"
        [(ngModel)]="product.subCategoryId"
        required
        class="form-control"
        #subCategoryId="ngModel"
      >
        <option
          *ngFor="let subCategory of subCategories"
          [value]="subCategory.subCategoryId"
        >
          {{ subCategory.subCategoryName }}
        </option>
      </select>
      <small id="subcategoryHelp" class="form-text text-muted"
        >Please select a SubCategory.</small
      >
      <br />
      <span
        class="help-block text-danger"
        *ngIf="subCategoryId.invalid && subCategoryId.touched"
      >
        {{ formErrorService.getErrorMessage(subCategoryId) }}
      </span>
    </div>
    <div class="mt-3">
      <button
        type="submit"
        class="btn w-100 btn-dark"
        [disabled]="!productForm.valid"
      >
        Save
      </button>
    </div>
  </form>
</app-form-card-container>
